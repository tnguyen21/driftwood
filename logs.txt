[Node 1] [CANDIDATE] üó≥Ô∏è  Starting election for term 1
[Node 0] [FOLLOWER ] Received request_vote from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Granting vote to candidate 1 for term 1
[Node 2] [FOLLOWER ] Received request_vote from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Granting vote to candidate 1 for term 1
[Node 1] [CANDIDATE] Received vote_response from ('127.0.0.1', 10000)
[Node 1] [CANDIDATE] Received vote (2/3)
[Node 1] [LEADER   ] üéâ WON ELECTION with 2/3 votes in term 1
[Node 1] [LEADER   ] Received vote_response from ('127.0.0.1', 10002)
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1

############################################################
TEST 1: BASIC REPLICATION
############################################################

[TEST] Waiting for leader election...
[TEST] Leader elected: node 1 in term 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index -1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index -1
[CLIENT] Submitting command 'cmd1' to leader (node 1)
[CLIENT] Command appended to leader's log at index 0
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 0
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 0
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 0
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 0
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 0
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 0
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 0
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 0
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 0
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 0
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 0
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 0
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 0
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 0
[CLIENT] Submitting command 'cmd2' to leader (node 1)
[CLIENT] Command appended to leader's log at index 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 1
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 1
[Node 1] [LEADER   ] Advanced commit_idx from 0 to 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 0 to 1
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 0 to 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 1
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 1
[CLIENT] Submitting command 'cmd3' to leader (node 1)
[CLIENT] Command appended to leader's log at index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 2
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Advanced commit_idx from 1 to 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 1 to 2
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 1 to 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[TEST] Waiting for replication to commit_idx=2...
[TEST] All nodes replicated to commit_idx=2

============================================================
VERIFYING LOG REPLICATION
============================================================
Node 0 [FOLLOWER ] term=1 commit_idx=2 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)']
Node 1 [LEADER   ] term=1 commit_idx=2 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)']
Node 2 [FOLLOWER ] term=1 commit_idx=2 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)']

All nodes have at least 3 entries: True
============================================================

[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2

############################################################
TEST 3: SEQUENTIAL COMMANDS
############################################################

[TEST] Waiting for leader election...
[TEST] Leader elected: node 1 in term 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 2
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 2
[TEST] Submitting 5 commands rapidly...
[CLIENT] Submitting command 'rapid_0' to leader (node 1)
[CLIENT] Command appended to leader's log at index 3
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 3
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 3
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 3
[Node 1] [LEADER   ] Advanced commit_idx from 2 to 3
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 3
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 2 to 3
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 2 to 3
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 3
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 3
[CLIENT] Submitting command 'rapid_1' to leader (node 1)
[CLIENT] Command appended to leader's log at index 4
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 4
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 4
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 4
[Node 1] [LEADER   ] Advanced commit_idx from 3 to 4
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 4
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 3 to 4
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 3 to 4
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 4
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 4
[CLIENT] Submitting command 'rapid_2' to leader (node 1)
[CLIENT] Command appended to leader's log at index 5
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 5
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 5
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 5
[Node 1] [LEADER   ] Advanced commit_idx from 4 to 5
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 5
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 4 to 5
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 4 to 5
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 5
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 5
[CLIENT] Submitting command 'rapid_3' to leader (node 1)
[CLIENT] Command appended to leader's log at index 6
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 6
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 6
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 6
[Node 1] [LEADER   ] Advanced commit_idx from 5 to 6
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 6
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 5 to 6
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 5 to 6
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 6
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 6
[CLIENT] Submitting command 'rapid_4' to leader (node 1)
[CLIENT] Command appended to leader's log at index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 7
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Advanced commit_idx from 6 to 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 6 to 7
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 6 to 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[TEST] Waiting for replication to commit_idx=4...
[TEST] All nodes replicated to commit_idx=4

============================================================
VERIFYING LOG REPLICATION
============================================================
Node 0 [FOLLOWER ] term=1 commit_idx=7 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)']
Node 1 [LEADER   ] term=1 commit_idx=7 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)']
Node 2 [FOLLOWER ] term=1 commit_idx=7 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)']

All nodes have at least 5 entries: True
============================================================

[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7

############################################################
TEST 4: COMMIT AFTER MAJORITY REPLICATION
############################################################

[TEST] Waiting for leader election...
[TEST] Leader elected: node 1 in term 1
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 7
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 7
[TEST] Initial commit indices:
  Node 0: commit_idx=7
  Node 1: commit_idx=7
  Node 2: commit_idx=7
[CLIENT] Submitting command 'test_commit' to leader (node 1)
[CLIENT] Command appended to leader's log at index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Appended 1 entries at index 8
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Appended 1 entries at index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Advanced commit_idx from 7 to 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 0] [FOLLOWER ] Advanced commit_idx from 7 to 8
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Advanced commit_idx from 7 to 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[TEST] After replication commit indices:
  Node 0: commit_idx=8
  Node 1: commit_idx=8
  Node 2: commit_idx=8

============================================================
VERIFYING LOG REPLICATION
============================================================
Node 0 [FOLLOWER ] term=1 commit_idx=8 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)', '(1,test_commit)']
Node 1 [LEADER   ] term=1 commit_idx=8 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)', '(1,test_commit)']
Node 2 [FOLLOWER ] term=1 commit_idx=8 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)', '(1,test_commit)']
============================================================

[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8

############################################################
TEST 2: LEADER FAILURE AND RE-ELECTION
############################################################

[TEST] Waiting for leader election...
[TEST] Leader elected: node 1 in term 1
[TEST] Simulating leader failure: stopping node 1
[Node 0] [CANDIDATE] üó≥Ô∏è  Starting election for term 2
[Node 2] [CANDIDATE] üó≥Ô∏è  Starting election for term 2
[Node 1] [FOLLOWER ] Received request_vote from ('127.0.0.1', 10000)
[Node 1] [FOLLOWER ] Denying vote to candidate 0 - already voted for 1
[Node 1] [FOLLOWER ] Received request_vote from ('127.0.0.1', 10002)
[Node 1] [FOLLOWER ] Denying vote to candidate 2 - already voted for 1
[Node 2] [CANDIDATE] Received request_vote from ('127.0.0.1', 10000)
[Node 2] [CANDIDATE] Denying vote to candidate 0 - already voted for 2
[Node 2] [CANDIDATE] Received vote_response from ('127.0.0.1', 10001)
[Node 0] [CANDIDATE] Received request_vote from ('127.0.0.1', 10002)
[Node 0] [CANDIDATE] Denying vote to candidate 2 - already voted for 0
[Node 0] [CANDIDATE] Received vote_response from ('127.0.0.1', 10001)
[Node 0] [CANDIDATE] Received vote_response from ('127.0.0.1', 10002)
[Node 2] [CANDIDATE] Received vote_response from ('127.0.0.1', 10000)
[TEST] Failed to elect new leader or same leader

============================================================
VERIFYING LOG REPLICATION
============================================================
Node 0 [CANDIDATE] term=2 commit_idx=8 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)', '(1,test_commit)']
Node 1 [FOLLOWER ] term=2 commit_idx=8 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)', '(1,test_commit)']
Node 2 [CANDIDATE] term=2 commit_idx=8 log=['(1,cmd1)', '(1,cmd2)', '(1,cmd3)', '(1,rapid_0)', '(1,rapid_1)', '(1,rapid_2)', '(1,rapid_3)', '(1,rapid_4)', '(1,test_commit)']
============================================================

[Node 1] [CANDIDATE] üó≥Ô∏è  Starting election for term 3
[Node 0] [CANDIDATE] Received request_vote from ('127.0.0.1', 10001)
[Node 0] [CANDIDATE] Stepping down to FOLLOWER for term 3
[Node 0] [FOLLOWER ] Granting vote to candidate 1 for term 3
[Node 2] [CANDIDATE] Received request_vote from ('127.0.0.1', 10001)
[Node 2] [CANDIDATE] Stepping down to FOLLOWER for term 3
[Node 2] [FOLLOWER ] Granting vote to candidate 1 for term 3
[Node 1] [CANDIDATE] Received vote_response from ('127.0.0.1', 10000)
[Node 1] [CANDIDATE] Received vote (2/3)
[Node 1] [LEADER   ] üéâ WON ELECTION with 2/3 votes in term 3
[Node 1] [LEADER   ] Received vote_response from ('127.0.0.1', 10002)
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8
[Node 0] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 2] [FOLLOWER ] Received append_entries from ('127.0.0.1', 10001)
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10000)
[Node 1] [LEADER   ] Peer 0 replicated up to index 8
[Node 1] [LEADER   ] Received append_entries_response from ('127.0.0.1', 10002)
[Node 1] [LEADER   ] Peer 2 replicated up to index 8

============================================================
ALL TESTS COMPLETED
============================================================

[TEST] Shutting down cluster...
[Node 0] Shutting down...
[Node 1] Shutting down...
[Node 2] Shutting down...
